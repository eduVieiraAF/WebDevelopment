<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Animação #02</title>
    <link rel="stylesheet" href="css/estilo.css" />
    <script src="js/jquery.js"></script>
    <style>
      body {
        position: relative;
        background-color: #999;
        color: #000;
      }

      div {
        position: absolute;
        display: inline;
        border: solid 10px #000;
        padding: 50px;
        font-size: 3em;
        background-color: crimson;
      }
    </style>
  </head>

  <body>
    <div>Animation</div>

    <script>
      function alterarLargura(value, length, callback) {
        $("div").animate({ width: `+=${value}` }, length, callback);
      }

      function moverDiagonal(value, length, callback) {
        $("div").animate(
          { top: `+=${value}`, left: `+=${value}` },
          length,
          callback
        );
      }

      function spin(value, length, callback) {
        $("div").animate(
          { transform: `+=${value}` },
          {
            step: function (value) {
              $(this).css("transform", `rotate(${value}deg)`);
            },
            duration: length,
          },
          'linear',
          callback
        );
      }

      alterarLargura(300, 1000, () => { 
        alterarLargura(-300, 500, () => {
            moverDiagonal(250, 500, () => {
                moverDiagonal(-250, 700, () => {
                    spin(60, 400)
                })
            })
        }) 
    })
    </script>
  </body>
</html>
